.globl	constructor_MyContract
.type	constructor_MyContract, @function
RET

.globl	constructor
.type	constructor, @function
; protect constructor from twice call
PUSHINT 1
PUSHROOT CTOS PLDDICTQ
PUSHCONT {
	NEWDICT
}
IFNOT
PUSHINT 64
DICTUGET
THROWIF 123
PUSHINT 1 NEWC STU 1
PUSHINT 1
PUSHROOT CTOS PLDDICTQ
PUSHCONT {
	NEWDICT
}
IFNOT
PUSHINT 64
DICTUSETB
NEWC STDICT ENDC
POPROOT
; Decode input parameters
DROP

.globl	get_allowance
.type	get_allowance, @function
; Decode input parameters
PUSHINT 256
PUSHINT $smart_ldu$
CALL 1
DROP
PUSHINT $get_allowance_internal$
CALL 1
RET

.globl	get_allowance_internal
.type	get_allowance_internal, @function
;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;
;; Function: get_allowance_internal
;; param: requester
;; requester
;; stack=1
DUP
;; decl: r
;; Remote call RemoteContract.on_get_allowance
;; r
;; stack=2
DUP
NEWC
PUSHINT $on_get_allowance$
STUR 32
NEWC
;; amount
PUSHINT 0
STUR 64
STBREFR
ENDC CTOS
PUSHINT $send_int_msg_2$
CALL 1
PUSHINT 1000
;; r
;; stack=3
PUSH s1
;; Remote call RemoteContract.on_get_allowance
NEWC
PUSHINT $on_get_allowance$
STUR 32
NEWC
;; amount
PUSHINT 0
STUR 64
STBREFR
ENDC CTOS
PUSHINT $send_grams$
CALL 1
;; stack=2
;; return
BLKDROP 2
RET

.globl	fallback
.type	fallback, @function
DROP
RET

.globl	onBounce
.type	onBounce, @function
DROP
RET

.globl	on_get_allowance
.type	on_get_allowance, @function
RET

